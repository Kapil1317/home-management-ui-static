"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2667],{2667:(x,g,a)=>{a.r(g),a.d(g,{UserRegistrationPageModule:()=>h});var s,d,l,c=a(177),r=a(4341),n=a(4742),u=a(8986),e=a(3953),v=a(1626);class f{constructor(t){this.http=t,this.apiUrl="http://localhost:8080/secure/user"}getUser(t){return this.http.get(`${this.apiUrl}/${t}`)}}function k(i,t){1&i&&(e.j41(0,"ion-text",23),e.EFF(1," Username is required "),e.k0s())}function R(i,t){1&i&&(e.j41(0,"ion-text",23),e.EFF(1," First Name is required "),e.k0s())}function b(i,t){1&i&&(e.j41(0,"ion-text",23),e.EFF(1," Last Name is required "),e.k0s())}function U(i,t){1&i&&(e.j41(0,"ion-text",23),e.EFF(1," Phone number must be 10 digits "),e.k0s())}function E(i,t){1&i&&(e.j41(0,"ion-text",23),e.EFF(1," Date of Birth is required "),e.k0s())}function N(i,t){1&i&&(e.j41(0,"ion-text",23),e.EFF(1," Gender is required "),e.k0s())}function j(i,t){1&i&&(e.j41(0,"ion-text",23),e.EFF(1," Invalid email address "),e.k0s())}(s=f).\u0275fac=function(t){return new(t||s)(e.KVO(v.Qq))},s.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"});class p{constructor(t,o){this.fb=t,this.userService=o,this.error=null}ngOnInit(){this.registrationForm=this.fb.group({username:["",[r.k0.required,r.k0.minLength(3)]],firstName:["",[r.k0.required,r.k0.minLength(1)]],middleName:[""],lastName:["",[r.k0.required,r.k0.minLength(1)]],phone:["",[r.k0.required,r.k0.pattern(/^\d{10}$/)]],dob:["",[r.k0.required]],gender:["",[r.k0.required]],email:["",[r.k0.email]]})}onRegister(){var t;this.registrationForm.valid?(console.log("Registration Form Submitted",this.registrationForm.value),this.fetchUser(null===(t=this.registrationForm.get("username"))||void 0===t?void 0:t.value)):console.error("Registration Form is Invalid")}fetchUser(t){this.userService.getUser(t).subscribe(o=>{console.log("data received from server ",o),this.user=o,this.error=null},o=>{this.error="Error fetching user data!",console.error(o)})}}(d=p).\u0275fac=function(t){return new(t||d)(e.rXU(r.ok),e.rXU(f))},d.\u0275cmp=e.VBU({type:d,selectors:[["app-user-registration"]],standalone:!1,decls:64,vars:11,consts:[[3,"translucent"],[3,"fullscreen"],[1,"form-container"],[1,"form-layout"],[3,"ngSubmit","formGroup"],["position","floating",1,"field-label"],["type","text","formControlName","username"],["color","danger",4,"ngIf"],["type","text","formControlName","firstName"],["type","text","formControlName","middleName"],["type","text","formControlName","lastName"],[1,"phone-prefix-container"],[1,"phone-prefix"],["type","tel","formControlName","phone","placeholder","Enter phone number"],["position","floating",2,"margin-bottom","30px"],["formControlName","dob","display-format","DD MMM YYYY","presentation","date",1,"force-modal-datetime"],[1,"field-label"],["formControlName","gender","placeholder","Select Gender"],["value","male"],["value","female"],["value","other"],["type","email","formControlName","email"],["expand","block","type","submit",3,"disabled"],["color","danger"]],template:function(t,o){1&t&&(e.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),e.EFF(3,"User Registration"),e.k0s()()(),e.j41(4,"ion-content",1)(5,"div",2)(6,"ion-card",3)(7,"ion-card-header")(8,"ion-card-title"),e.EFF(9,"Register"),e.k0s(),e.j41(10,"ion-card-subtitle"),e.EFF(11,"Fill in the details to create an account"),e.k0s()(),e.j41(12,"ion-card-content")(13,"form",4),e.bIt("ngSubmit",function(){return o.onRegister()}),e.j41(14,"ion-item")(15,"ion-label",5),e.EFF(16,"Username"),e.k0s(),e.nrm(17,"ion-input",6),e.k0s(),e.DNE(18,k,2,0,"ion-text",7),e.j41(19,"ion-item")(20,"ion-label",5),e.EFF(21,"First Name"),e.k0s(),e.nrm(22,"ion-input",8),e.k0s(),e.DNE(23,R,2,0,"ion-text",7),e.j41(24,"ion-item")(25,"ion-label",5),e.EFF(26,"Middle Name (Optional)"),e.k0s(),e.nrm(27,"ion-input",9),e.k0s(),e.j41(28,"ion-item")(29,"ion-label",5),e.EFF(30,"Last Name"),e.k0s(),e.nrm(31,"ion-input",10),e.k0s(),e.DNE(32,b,2,0,"ion-text",7),e.j41(33,"ion-item")(34,"ion-label",5),e.EFF(35,"Phone Number"),e.k0s(),e.j41(36,"div",11)(37,"span",12),e.EFF(38,"+91"),e.k0s(),e.nrm(39,"ion-input",13),e.k0s()(),e.DNE(40,U,2,0,"ion-text",7),e.j41(41,"ion-item")(42,"ion-label",14),e.EFF(43,"Date of Birth"),e.k0s(),e.nrm(44,"ion-datetime",15),e.k0s(),e.DNE(45,E,2,0,"ion-text",7),e.j41(46,"ion-item")(47,"ion-label",16),e.EFF(48,"Gender"),e.k0s(),e.j41(49,"ion-select",17)(50,"ion-select-option",18),e.EFF(51,"Male"),e.k0s(),e.j41(52,"ion-select-option",19),e.EFF(53,"Female"),e.k0s(),e.j41(54,"ion-select-option",20),e.EFF(55,"Other"),e.k0s()()(),e.DNE(56,N,2,0,"ion-text",7),e.j41(57,"ion-item")(58,"ion-label",5),e.EFF(59,"Email Address (Optional)"),e.k0s(),e.nrm(60,"ion-input",21),e.k0s(),e.DNE(61,j,2,0,"ion-text",7),e.j41(62,"ion-button",22),e.EFF(63,"Register"),e.k0s()()()()()()),2&t&&(e.Y8G("translucent",!0),e.R7$(4),e.Y8G("fullscreen",!0),e.R7$(9),e.Y8G("formGroup",o.registrationForm),e.R7$(5),e.Y8G("ngIf",o.registrationForm.controls.username.invalid&&o.registrationForm.controls.username.touched),e.R7$(5),e.Y8G("ngIf",o.registrationForm.controls.firstName.invalid&&o.registrationForm.controls.firstName.touched),e.R7$(9),e.Y8G("ngIf",o.registrationForm.controls.lastName.invalid&&o.registrationForm.controls.lastName.touched),e.R7$(8),e.Y8G("ngIf",o.registrationForm.controls.phone.invalid&&o.registrationForm.controls.phone.touched),e.R7$(5),e.Y8G("ngIf",o.registrationForm.controls.dob.invalid&&o.registrationForm.controls.dob.touched),e.R7$(11),e.Y8G("ngIf",o.registrationForm.controls.gender.invalid&&o.registrationForm.controls.gender.touched),e.R7$(5),e.Y8G("ngIf",o.registrationForm.controls.email.invalid&&o.registrationForm.controls.email.touched),e.R7$(),e.Y8G("disabled",o.registrationForm.invalid))},dependencies:[c.bT,r.qT,r.BC,r.cb,n.Jm,n.b_,n.I9,n.ME,n.HW,n.tN,n.W9,n.A9,n.eU,n.$w,n.uz,n.he,n.Nm,n.Ip,n.IO,n.BC,n.ai,n.Je,n.Gw,r.j4,r.JD],styles:[".form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:175%}.form-layout[_ngcontent-%COMP%]{width:100%;max-width:500px}.force-modal-datetime[_ngcontent-%COMP%]{display:block!important;position:relative!important}.force-modal-datetime[_ngcontent-%COMP%]::part(calendar){display:grid}.phone-prefix-container[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.phone-prefix[_ngcontent-%COMP%]{margin-right:8px;font-weight:700;color:#555}ion-input[_ngcontent-%COMP%]{flex:1}"]});const P=[{path:"",component:p}];class F{}var m;(l=F).\u0275fac=function(t){return new(t||l)},l.\u0275mod=e.$C({type:l}),l.\u0275inj=e.G2t({imports:[u.iI.forChild(P),u.iI]});class h{}(m=h).\u0275fac=function(t){return new(t||m)},m.\u0275mod=e.$C({type:m}),m.\u0275inj=e.G2t({imports:[c.MD,r.YN,n.bv,r.X1,F]})}}]);